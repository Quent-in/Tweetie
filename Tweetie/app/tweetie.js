!function(e){e.fn.extend({tweecool:function(t){function a(e){var t=new Date,a=Date.parse(t),r=1e3*e,i=(a-r)/1e3,s=1,n=60,o=3600,l=86400,m=604800,u=2592e3,h=31536e3;return i>s&&n>i?Math.round(i/s)+" secondes":i>=n&&o>i?Math.round(i/n)+" minute(s)":i>=o&&l>i?Math.round(i/o)+" heure(s)":i>=l&&m>i?Math.round(i/l)+" jour(s)":i>=m&&u>i?Math.round(i/m)+" semaine(s)":i>=u&&h>i?Math.round(i/u)+" mois":"plus d'un an"}var r={username:"tweecool",limit:5,profile_image:!0,show_time:!0,show_media:!1,show_media_size:"thumb"},t=e.extend(r,t);return this.each(function(){var r=t,i=e(this),s=e("<ul>").appendTo(i),n=/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,o=/@+(\w+)/gi,l=/#+(\w+)/gi,m="";e.getJSON("https://www.api.tweecool.com/?screenname="+r.username+"&count="+r.limit,function(t){if(t.errors||null==t)return i.html("No tweets available."),!1;if(r.profile_image)var u='<a href="https://twitter.com/'+r.username+'" target="_blank"><img src="'+t.user.profile_image_url+'" alt="'+r.username+'" /></a>';else u="";e.each(t.tweets,function(e,t){if(r.show_time)var i=a(t.timestamp);else var i="";m=r.show_media&&t.media_url?'<a href="https://twitter.com/'+r.username+'" target="_blank"><img src="'+t.media_url+":"+r.show_media_size+'" alt="'+r.username+'" class="media" /></a>':"",s.append("<li>"+u+'<div class="tweets_txt">'+t.text.replace(n,'<a href="$1" target="_blank">$1</a>').replace(o,'<a href="https://twitter.com/$1" target="_blank">@$1</a>').replace(l,'<a href="https://twitter.com/search?q=%23$1" target="_blank">#$1</a>')+m+"<span><br>"+i+"</span></div></li>")})}).fail(function(){i.html("Pas de tweets disponibles")})})}})}(jQuery);